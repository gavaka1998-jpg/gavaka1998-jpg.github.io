<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TON FORGE</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
body{background:#0f1115;color:#fff;font-family:Arial}
.box{padding:20px}
.btn{padding:12px;margin:8px;background:#1f6bff;border-radius:12px}
</style>
</head>
<body>
  <h2>🔥 TON FORGE</h2>

  <div id="balance">0.00000000 TON</div>

  <button onclick="upgrade()">🚀 Апгрейд</button>
  <button onclick="withdraw()">💸 Вывод</button>

  <script src="script.js"></script>
</body>

<script>
const tg=Telegram.WebApp; tg.expand();
let bal=0,reward=0,tick=5,lvl=0;

tg.sendData(JSON.stringify({action:"state"}));

tg.onEvent("message",(e)=>{
 try{
  const d=JSON.parse(e.data);
  bal=d.balance; reward=d.reward; tick=d.tick; lvl=d.lvl;
  setInterval(()=>{
    bal+=reward/tick;
    document.getElementById("bal").innerText=bal.toFixed(10)+" TON";
  },1000);
 }catch{}
});

function upgrade(){ tg.sendData(JSON.stringify({action:"upgrade"})); }
function withdraw(){
 const a=prompt("TON адрес:");
 if(a) tg.sendData(JSON.stringify({action:"withdraw",addr:a}));
}
</script>
</body>
</html>